name: Vuepress Deploy

on:
   push:
      branches:
         - main

jobs:
   build-and-deploy:
      runs-on: ubuntu-latest
      steps:
         # ä½¿ç”¨æŸä¸ª Repo
         - name: Checkout ğŸ›ï¸
           uses: actions/checkout@v2

         # æ„å»ºé™æ€æ–‡ä»¶
         - name: Install and Build ğŸ”§
           run: |
              npm install yarn
              yarn
              yarn docs:build

         # éƒ¨ç½²åˆ° GitHub Pages
         - name: Deploy ğŸš€
           uses: peaceiris/actions-gh-pages@v3
           with:
              personal_token: ${{ secrets.PERSONAL_TOKEN }}
              publish_dir: docs/.vuepress/dist
              external_repository: AsheOne18/VueDocs
              publish_branch: main
              user_name: 'github-actions[bot]'
              user_email: 'github-actions[bot]@users.noreply.github.com'